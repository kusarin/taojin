<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper   
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"   
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="cn.it.dao.OrderDao">
        <resultMap type="cn.it.pojo.Order" id="findAll">
            <id column="Indent_id" property="id" javaType="int" jdbcType="INTEGER"/>
            <result column="User_ID" property="userID" javaType="int" jdbcType="INTEGER"/>
            <result column="OrderNumber" property="orderNumber" javaType="String" jdbcType="VARCHAR"/>
            <result column="OrderTime" property="orderTime" javaType="java.sql.Date" jdbcType="DATE"/>
            <result column="ActulPayment" property="actulPayment" javaType="double" jdbcType="DOUBLE"/>
            <result column="Status" property="status" javaType="String" jdbcType="VARCHAR"/>
            <result column="PaymentMethod" property="paymentMethod" javaType="String" jdbcType="VARCHAR"/>
            <result column="RecivingAddress" property="recivingAddress" javaType="String" jdbcType="VARCHAR"/>
            <result column="freight" property="freight" javaType="double" jdbcType="DOUBLE"/>
        </resultMap>
        <parameterMap type="cn.it.pojo.Order" id="OrderParameterMap">
            <parameter property="id" resultMap="findAll"/>  
            <parameter property="userID" resultMap="findAll"/>  
            <parameter property="orderNumber" resultMap="findAll"/> 
            <parameter property="orderTime" resultMap="findAll"/> 
            <parameter property="actulPayment" resultMap="findAll"/> 
            <parameter property="status" resultMap="findAll"/> 
            <parameter property="paymentMethod" resultMap="findAll"/> 
            <parameter property="recivingAddress" resultMap="findAll"/> 
            <parameter property="freight" resultMap="findAll"/>  
       </parameterMap>
     <select id="selectAll" parameterType="int" resultMap="findAll">
          select* from indent where User_ID=#{userId}
     </select>
     <insert id="add" parameterMap="OrderParameterMap">
           insert into indent(User_ID,OrderNumber,OrderTime,ActulPayment,Status,PaymentMethod,RecivingAddress,freight) 
           values(#{userID},#{orderNumber},#{orderTime},#{actulPayment},#{status},#{paymentMethod},#{recivingAddress},#{freight})
     </insert>
      <update id="update" parameterMap="OrderParameterMap">
           update indent set Status=#{status} where OrderNumber=#{orderNumber}
      </update>
      <select id="findOrder" parameterType="java.lang.String" resultMap="findAll">
          select* from indent where OrderNumber=#{orderNumber}
     </select>
     <delete id="delete" parameterType="java.lang.String">
          delete from indent where OrderNumber=#{orderNumber}
     </delete>
 </mapper>
 

